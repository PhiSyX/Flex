// ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
// ┃ Copyright: (c) 2024, Mike 'PhiSyX' S. (https://github.com/PhiSyX)         ┃
// ┃ SPDX-License-Identifier: MPL-2.0                                          ┃
// ┃ ╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌ ┃
// ┃                                                                           ┃
// ┃  This Source Code Form is subject to the terms of the Mozilla Public      ┃
// ┃  License, v. 2.0. If a copy of the MPL was not distributed with this      ┃
// ┃  file, You can obtain one at https://mozilla.org/MPL/2.0/.                ┃
// ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

@use "./variables" as var;

@use "scss:~/flexsheets" as fx with($spacing: var.$spacing);

@layer flexsheets, userland;

@import "scss:~/normalizer.css" layer(reset);

@include fx.use-reset;

@import "./variables";
@import "./fonts";
@import "./button";
@import "./input";

:root {
	/* Couleurs globales */
	--color-ultra-black: #000000;
	--color-ultra-white: #ffffff;

	--color-black: #212121;
	--color-white: #e9f2f4;
	--color-white_hsl: 191, 33%, 94%;

	--color-blue300: #64b5f6;
	--color-blue500: #2196f3;

	--color-blue-grey400: #78909c;
	--color-blue-grey500: #677c86;
	--color-blue-grey600: #546e7a;
	--color-blue-grey700: #455a64;

	--color-cyan200: #80deea;
	--color-cyan300_hsl: 187, 71%, 59%;
	--color-cyan400: #26c6da;
	--color-cyan500: #00bcd4;
	--color-cyan800: #00838f;

	--color-green400: #66bb6a;

	--color-grey50: #fafafa;
	--color-grey50_hsl: 0, 0%, 98%;
	--color-grey400: #bdbdbd;
	--color-grey500: #9e9e9e;
	--color-grey600: #757575;
	--color-grey800: #424242;
	--color-grey900: #212121;

	--color-indigo100: #c5cae9;
	--color-indigo200: #9fa8da;

	--color-light-blue600: #039be5;

	--color-lime500: #cddc39;
	--color-lime700: #afb42b;

	--color-orange200: #ffcc80;
	--color-orange400: #ffa726;
	--color-orange500: #ff9800;
	--color-orange700: #f57c00;

	--color-red300: #e57373;
	--color-red500: #f44336;
	--color-red600: #e53935;

	/* Paramètres d'application */

	@include fx.theme(true) using ($name) {
		@if $name == ice {
			--default-border-color: var(--color-blue-grey500);
			--default-text-color: var(--color-white);
			--default-text-color_alt: var(--color-grey900);

			--body-bg: linear-gradient(
				var(--color-blue-grey600),
				var(--color-blue-grey400)
			);

			--text-input-color-error: #4dd2d4;

			--login-form-bg: var(--color-blue-grey600);
			--login-form-shadow: var(--color-blue-grey700);
			--login-form-color: hsl(var(--color-white_hsl), 0.75);
			--login-form-hover-color: var(--color-white);
			--login-button-submit-bg: linear-gradient(
				hsl(var(--color-grey50_hsl), 55%),
				hsl(var(--color-grey50_hsl), 15%)
			);
			--login-button-submit-bg-hover: linear-gradient(
				hsl(var(--color-grey50_hsl), 55%),
				hsl(var(--color-grey50_hsl), 25%)
			);
			--login-button-submit-color: var(--color-grey800);
			--login-button-submit-outline-color: var(--color-blue-grey600);

			--room-bg: var(--color-blue-grey700);
			--room-bg-hover: var(--color-grey800);
			--room-editbox-bg: var(--room-bg);
			--room-message-time-color: var(--color-grey500);
			--room-message-action-color: var(--color-orange400);
			--room-message-error-color: var(--color-red300);

			--room-userlist-bg: var(--body-bg);
			--room-userlist-search-bg: var(--room-bg);
			// --room-userlist-search-outline-focus: #009DFF;
		}
	}
}

html,
body {
	width: 100svw;
	height: 100svh;

	font-family: Roboto, Nunito, sans-serif;
	font-size: 16px;
}

#🆔,
#app {
	width: 100%;
	height: 100%;

	overflow: hidden;
}

#🆔 {
	transition: box-shadow 0.2s;

	color: var(--default-text-color);
}

#app {
	padding: fx.space(1);

	background: var(--body-bg);

	box-shadow: inset 0 0 0 fx.space(1) var(--default-border-color),
		inset 5px 5px 5px var(--default-border-color);
}

@include fx.use-overflow();
@include fx.use-ulist-reset();
@include fx.use-input-reset();

.is-owner {
	--room-nick-symbol: var(--color-red500);
	--room-nick-color: var(--color-red500);
	@include fx.theme using($name) {
		@if $name == ice {
			--room-nick-symbol: var(--color-orange200);
			--room-nick-color: var(--color-orange500);
		}
	}
	color: var(--room-nick-symbol);
}
.is-admin-operator {
	--room-nick-symbol: var(--color-red500);
	--room-nick-color: var(--color-red500);
	@include fx.theme using($name) {
		@if $name == ice {
			--room-nick-symbol: var(--color-orange200);
			--room-nick-color: var(--color-orange500);
		}
	}
	color: var(--room-nick-symbol);
}
.is-operator {
	--room-nick-symbol: var(--color-red500);
	--room-nick-color: var(--color-red500);
	@include fx.theme using($name) {
		@if $name == ice {
			--room-nick-symbol: var(--color-orange200);
			--room-nick-color: var(--color-orange500);
		}
	}
	color: var(--room-nick-symbol);
}
.is-half-operator {
	--room-nick-symbol: var(--color-cyan500);
	--room-nick-color: var(--color-cyan500);
	@include fx.theme using($name) {
		@if $name == ice {
			--room-nick-symbol: var(--color-cyan200);
			--room-nick-color: var(--color-cyan400);
		}
	}
	color: var(--room-nick-symbol);
}
.is-vip {
	--room-nick-symbol: var(--color-orange400);
	--room-nick-color: var(--color-orange400);
	@include fx.theme using($name) {
		@if $name == ice {
			--room-nick-symbol: var(--color-indigo200);
			--room-nick-color: var(--color-indigo100);
		}
	}
	color: var(--room-nick-symbol);
}
.is-user {
	color: inherit;
}

bdi.is-away::after {
	content: "[away]";
	text-decoration: underline;
	@include fx.theme using ($name) {
		@if $name == light {
			color: var(--color-grey400);
		} @else if $name == ice {
			color: var(--color-grey500);
		}
	}
}
bdi.is-busy::after {
	content: "[busy]";
	text-decoration: underline;
	@include fx.theme using ($name) {
		@if $name == light {
			color: var(--color-grey400);
		} @else if $name == ice {
			color: var(--color-grey500);
		}
	}
}
